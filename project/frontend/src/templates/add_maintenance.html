<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Maintenance Log</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/add_maintenance.css') }}">
</head>
<body>
    <header>
        {% include 'topbar.html' %}
    </header>

    <h1>Add Maintenance Log</h1>

    {% with messages = get_flashed_messages() %}
        {% if messages %}
            <ul>
                {% for message in messages %}
                    <li>{{ message }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    {% endwith %}

    <form action="/add_maintenance" method="POST" id="maintenanceForm">
        <!-- Vehicle Selection -->
        <label for="vehicle">Vehicle Code:</label>
        <select id="vehicle" name="vehicle" required>
            <option value="">Select a vehicle</option>
            <option value="Todos_tracto_camiones">Todos los Tracto Camiones</option>
            <option value="Todos_semiremolques">Todos los Semiremolques</option>
            {% for vehicle in vehicles %}
                <option value="{{ vehicle.code }}">{{ vehicle.code }}</option>
            {% endfor %}
        </select><br>

        <!-- Part and Component Selection -->
        <label for="part">Part:</label>
        <select id="part" name="part" required>
            <option value="">Select a part</option>
            {% for part in parts %}
                <option value="{{ part[0] }}">{{ part[0] }}</option>
            {% endfor %}
        </select><br>

        <label for="component">Component:</label>
        <select id="component" name="component" required>
            <option value="">Select a component</option>
            {% for component in components %}
                <option value="{{ component[0] }}">{{ component[0] }}</option>
            {% endfor %}
        </select><br>

        <!-- Maintenance Details -->
        <label for="date">Date:</label>
        <input type="date" id="date" name="date" required><br>

        <label for="start_time">Start Time:</label>
        <input type="time" id="start_time" name="start_time"><br>

        <label for="end_time">End Time:</label>
        <input type="time" id="end_time" name="end_time"><br>

        <label for="action">Action:</label>
        <select id="action" name="action" required>
            <option value="Cambio">Cambio</option>
            <option value="Instalaci贸n">Instalaci贸n</option>
            <option value="Reparaci贸n">Reparaci贸n</option>
        </select><br>

        <label for="kilometers">Kilometers:</label>
        <input type="number" id="kilometers" name="kilometers"><br>

        <label for="hobbs_meter">Hobbs Meter:</label>
        <input type="number" step="0.01" id="hobbs_meter" name="hobbs_meter"><br>

        <label for="next_change">Next Change:</label>
        <input type="number" step="0.01" id="next_change" name="next_change"><br>

        <label for="in_charge">Person in Charge:</label>
        <input type="text" id="in_charge" name="in_charge" required><br>

        <label for="comment">Comment:</label>
        <textarea id="comment" name="comment" required></textarea><br>

        <label for="cost">Cost:</label>
        <input type="number" step="0.01" id="cost" name="cost"><br>

        <button type="submit">Add Maintenance Log</button>
    </form>
</body>
</html>
